(this["webpackJsonpdungeon-cards"]=this["webpackJsonpdungeon-cards"]||[]).push([[0],{14:function(e,t,r){},15:function(e,t,r){},22:function(e,t,r){},24:function(e,t,r){"use strict";r.r(t);var c=r(0),a=r.n(c),n=r(5),o=(r(14),r(15),r(3)),s=r(6),i=function(e,t,r){var c=Object(o.a)(t,2),a=c[0],n=c[1],s=8*Math.random();return{id:e,x:a,y:n,type:s>r?"foe":"heal",hp:s>r?Math.trunc(3*Math.random()+1):Math.trunc(4*Math.random()+5)}},h={id:4,x:1,y:1,type:"hero",hp:10},d=Object(s.b)({name:"cards",initialState:{cards:Array(3).fill([]),scoreCount:0,hero:h,isGameOver:!0},reducers:{initFill:function(e){var t=-1;e.scoreCount=0,e.hero=h;for(var r=0;r<3;r++)for(var c=0;c<3;c++)e.cards[r][c]=i(++t,[r,c],3);e.cards[e.hero.x][e.hero.y]=e.hero,e.isGameOver=!1},move:function(e,t){var r=Object(o.a)(t.payload,2),c=r[0],a=r[1],n=e.cards[c][a];if(function(e,t){var r=Object(o.a)(e,2),c=r[0],a=r[1],n=Object(o.a)(t,2),s=n[0],i=n[1];return s===c&&i===a?(alert("It's you dum!"),!1):(s+1===c||s-1===c)&&i===a||(i+1===a||i-1===a)&&s===c}([c,a],[e.hero.x,e.hero.y])){var s=function(e){return("foe"===e.type?-1:1)*e.hp}(n);e.hero.hp=Math.min(e.hero.hp+s,10),e.hero.hp<=0&&(alert("Game over! Your score ".concat(e.scoreCount)),e.isGameOver=!0),s<0&&e.hero.hp>0&&e.scoreCount++,e.cards=function(e,t,r){var c=e.concat(),a=t.x===r.x?"x":"y",n="x"===a?"y":"x",o=c.flat().filter((function(e){return e[a]===t[a]})),s=o[r[n]<t[n]?o.length-1:0];c[r.x][r.y].type=t.type,c[r.x][r.y].hp=t.hp,"hero"!==s.type&&(c[t.x][t.y].type=s.type,c[t.x][t.y].hp=s.hp);var h=i(s.id,[s.x,s.y],2);return s.type=h.type,s.hp=h.hp,c}(e.cards,e.hero,n),e.hero=e.cards.flat().find((function(e){return"hero"===e.type}))}}}}),u=d.reducer,l=d.actions,p=l.initFill,j=l.move,f=r(4),b=function(){return Object(f.b)()},m=f.c,v=(r(22),r.p+"static/media/hero.5b2609bc.svg"),x=r.p+"static/media/hp0.013dd3c2.svg",O=r.p+"static/media/hp1.17d3ee61.svg",y={hero:{0:v},heal:{5:x,6:x,7:O,8:O},foe:{1:r.p+"static/media/foe1.c477179c.svg",2:r.p+"static/media/foe2.91be41a9.svg",3:r.p+"static/media/foe3.b4c66bde.svg"}},g=r(1);function C(){var e=m((function(e){var t=e.cardSlice;return{cards:t.cards.flat(),isGameOver:t.isGameOver}})),t=e.cards,r=e.isGameOver,a=b();return Object(c.useEffect)((function(){r&&a(p())}),[r]),Object(g.jsx)("div",{className:"cards-place",children:t.map((function(e){return Object(g.jsx)(G,{desc:e},e.id)}))})}function G(e){var t=b(),r=e.desc,c=y[r.type]["hero"===r.type?0:r.hp];return Object(g.jsxs)("div",{className:"card card-".concat(r.type),onClick:function(){t(j([r.x,r.y]))},children:[Object(g.jsx)("img",{src:c,alt:r.type,className:"card-image"}),Object(g.jsxs)("p",{className:"card-text",children:[" ",r.hp,"hero"===r.type?"/10":""]})]})}function S(){var e=m((function(e){return e.cardSlice.scoreCount}));return Object(g.jsxs)("h3",{className:"stats",children:["Score: ",e]})}var M=r(2),F=Object(M.b)({cardSlice:u}),N=Object(s.a)({reducer:F});var k=function(){return Object(g.jsx)(f.a,{store:N,children:Object(g.jsxs)("div",{className:"root",children:[Object(g.jsx)("header",{children:Object(g.jsx)("h1",{children:"Dungeon Cards"})}),Object(g.jsxs)("main",{children:[Object(g.jsx)(S,{}),Object(g.jsx)(C,{})]}),Object(g.jsxs)("footer",{children:[Object(g.jsx)("a",{target:"blank",href:"https://github.com/sweetcutewitch",children:"GitHub"}),Object(g.jsx)("a",{target:"blank",href:"https://play.google.com/store/apps/details?id=com.The717pixels.DungeonCards&hl=ru&gl=US",children:"Original game"})]})]})})},w=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,25)).then((function(t){var r=t.getCLS,c=t.getFID,a=t.getFCP,n=t.getLCP,o=t.getTTFB;r(e),c(e),a(e),n(e),o(e)}))};Object(n.render)(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(k,{})}),document.getElementById("root")),w()}},[[24,1,2]]]);
//# sourceMappingURL=main.154c8a2b.chunk.js.map